const _0x3d6ad8=_0x5a97;(function(_0x1e3dd7,_0x1fb145){const _0x1868d5=_0x5a97,_0x4e904c=_0x1e3dd7();while(!![]){try{const _0x29b065=parseInt(_0x1868d5(0x117))/0x1+parseInt(_0x1868d5(0x12a))/0x2+-parseInt(_0x1868d5(0x116))/0x3+parseInt(_0x1868d5(0x10c))/0x4+-parseInt(_0x1868d5(0x12c))/0x5*(parseInt(_0x1868d5(0x114))/0x6)+-parseInt(_0x1868d5(0x11a))/0x7+parseInt(_0x1868d5(0x101))/0x8;if(_0x29b065===_0x1fb145)break;else _0x4e904c['push'](_0x4e904c['shift']());}catch(_0x56c98c){_0x4e904c['push'](_0x4e904c['shift']());}}}(_0xe1d5,0x8eb6a));const fs=require('fs'),Crypto=require(_0x3d6ad8(0x100)),ff=require(_0x3d6ad8(0x111)),webp=require(_0x3d6ad8(0x11c)),path=require(_0x3d6ad8(0x113));async function imageToWebp(_0x5ced77){const _0x33f0da=_0x3d6ad8,_0x325d5d=path[_0x33f0da(0x109)](_0x33f0da(0x11b),Crypto[_0x33f0da(0x11f)](0x6)[_0x33f0da(0x120)](0x0,0x6)[_0x33f0da(0x112)](0x24)+'.webp'),_0x111a80=path[_0x33f0da(0x109)](_0x33f0da(0x11b),Crypto[_0x33f0da(0x11f)](0x6)[_0x33f0da(0x120)](0x0,0x6)['toString'](0x24)+_0x33f0da(0x105));fs['writeFileSync'](_0x111a80,_0x5ced77),await new Promise((_0x2cb183,_0xb6cfee)=>{const _0x3d98d9=_0x33f0da;ff(_0x111a80)['on'](_0x3d98d9(0x102),_0xb6cfee)['on'](_0x3d98d9(0x10d),()=>_0x2cb183(!![]))[_0x3d98d9(0x115)](['-vcodec','libwebp',_0x3d98d9(0x122),_0x3d98d9(0x124)])['toFormat'](_0x3d98d9(0x10f))['save'](_0x325d5d);});const _0x1721ad=fs[_0x33f0da(0x108)](_0x325d5d);return fs[_0x33f0da(0xfb)](_0x325d5d),fs['unlinkSync'](_0x111a80),_0x1721ad;}function _0x5a97(_0x6290ea,_0x30846f){const _0xe1d5f5=_0xe1d5();return _0x5a97=function(_0x5a97a4,_0x2582dc){_0x5a97a4=_0x5a97a4-0xfb;let _0x5cbed6=_0xe1d5f5[_0x5a97a4];return _0x5cbed6;},_0x5a97(_0x6290ea,_0x30846f);}function _0xe1d5(){const _0x498ce3=['995673AftCTG','1022210NIxUIj','.webp','exports','5952548GktNhp','./media','node-webpmux','from','exif','randomBytes','readUIntLE','-an','-vf','-vsync','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','https://github.com/Neeraj-x0/x-asena','writeFileSync','toFormat','writeUIntLE','stringify','1698364fXBMUY','.mp4','4560tbADwO','unlinkSync','Image','utf-8','packname','concat','crypto','2393208KHaGFW','error','categories','https://github.com/Afx-Abu','.jpg','libwebp','default','readFileSync','join','length','load','1861608IEaJnv','end','save','webp','author','fluent-ffmpeg','toString','path','5718cqXoYo','addOutputOptions'];_0xe1d5=function(){return _0x498ce3;};return _0xe1d5();}async function videoToWebp(_0x5089a2){const _0x56789b=_0x3d6ad8,_0x1470a7=path[_0x56789b(0x109)]('./media',Crypto[_0x56789b(0x11f)](0x6)[_0x56789b(0x120)](0x0,0x6)['toString'](0x24)+_0x56789b(0x118)),_0x36e80f=path[_0x56789b(0x109)](_0x56789b(0x11b),Crypto[_0x56789b(0x11f)](0x6)[_0x56789b(0x120)](0x0,0x6)[_0x56789b(0x112)](0x24)+_0x56789b(0x12b));fs[_0x56789b(0x126)](_0x36e80f,_0x5089a2),await new Promise((_0x1d71b5,_0x1fa3ea)=>{const _0x58f1a6=_0x56789b;ff(_0x36e80f)['on']('error',_0x1fa3ea)['on']('end',()=>_0x1d71b5(!![]))[_0x58f1a6(0x115)](['-vcodec',_0x58f1a6(0x106),_0x58f1a6(0x122),_0x58f1a6(0x124),'-loop','0','-ss','00:00:00','-t','00:00:05','-preset',_0x58f1a6(0x107),_0x58f1a6(0x121),_0x58f1a6(0x123),'0'])[_0x58f1a6(0x127)](_0x58f1a6(0x10f))['save'](_0x1470a7);});const _0x2110b6=fs[_0x56789b(0x108)](_0x1470a7);return fs['unlinkSync'](_0x1470a7),fs[_0x56789b(0xfb)](_0x36e80f),_0x2110b6;}async function writeExifImg(_0x2d1bad,_0x25c804){const _0x5d08ef=_0x3d6ad8;let _0x3d8537=await imageToWebp(_0x2d1bad);const _0x2c039e=path['join']('./media',Crypto[_0x5d08ef(0x11f)](0x6)[_0x5d08ef(0x120)](0x0,0x6)[_0x5d08ef(0x112)](0x24)+_0x5d08ef(0x118)),_0x4a68de=path[_0x5d08ef(0x109)](_0x5d08ef(0x11b),Crypto[_0x5d08ef(0x11f)](0x6)[_0x5d08ef(0x120)](0x0,0x6)['toString'](0x24)+_0x5d08ef(0x118));fs[_0x5d08ef(0x126)](_0x2c039e,_0x3d8537);if(_0x25c804[_0x5d08ef(0xfe)]||_0x25c804[_0x5d08ef(0x110)]){const _0x46dbf1=new webp['Image'](),_0x22044f={'sticker-pack-id':_0x5d08ef(0x125),'sticker-pack-name':_0x25c804[_0x5d08ef(0xfe)],'sticker-pack-publisher':_0x25c804[_0x5d08ef(0x110)],'emojis':_0x25c804[_0x5d08ef(0x103)]?_0x25c804[_0x5d08ef(0x103)]:['']},_0x211b4b=Buffer[_0x5d08ef(0x11d)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x1e67b8=Buffer[_0x5d08ef(0x11d)](JSON['stringify'](_0x22044f),_0x5d08ef(0xfd)),_0x3bc2f2=Buffer[_0x5d08ef(0xff)]([_0x211b4b,_0x1e67b8]);return _0x3bc2f2['writeUIntLE'](_0x1e67b8[_0x5d08ef(0x10a)],0xe,0x4),await _0x46dbf1[_0x5d08ef(0x10b)](_0x2c039e),fs[_0x5d08ef(0xfb)](_0x2c039e),_0x46dbf1[_0x5d08ef(0x11e)]=_0x3bc2f2,await _0x46dbf1[_0x5d08ef(0x10e)](_0x4a68de),_0x4a68de;}}async function writeExifVid(_0x5b9cee,_0x376f02){const _0x2179be=_0x3d6ad8;let _0x171fcb=await videoToWebp(_0x5b9cee);const _0x511b20=path[_0x2179be(0x109)](_0x2179be(0x11b),Crypto[_0x2179be(0x11f)](0x6)[_0x2179be(0x120)](0x0,0x6)[_0x2179be(0x112)](0x24)+'.webp'),_0x538dc4=path[_0x2179be(0x109)](_0x2179be(0x11b),Crypto['randomBytes'](0x6)[_0x2179be(0x120)](0x0,0x6)[_0x2179be(0x112)](0x24)+'.webp');fs[_0x2179be(0x126)](_0x511b20,_0x171fcb);if(_0x376f02[_0x2179be(0xfe)]||_0x376f02[_0x2179be(0x110)]){const _0x508ca0=new webp[(_0x2179be(0xfc))](),_0x553089={'sticker-pack-id':_0x2179be(0x104),'sticker-pack-name':_0x376f02[_0x2179be(0xfe)],'sticker-pack-publisher':_0x376f02[_0x2179be(0x110)],'emojis':_0x376f02[_0x2179be(0x103)]?_0x376f02[_0x2179be(0x103)]:['']},_0x325891=Buffer[_0x2179be(0x11d)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x59f3eb=Buffer[_0x2179be(0x11d)](JSON[_0x2179be(0x129)](_0x553089),_0x2179be(0xfd)),_0x4a9224=Buffer[_0x2179be(0xff)]([_0x325891,_0x59f3eb]);return _0x4a9224[_0x2179be(0x128)](_0x59f3eb['length'],0xe,0x4),await _0x508ca0[_0x2179be(0x10b)](_0x511b20),fs[_0x2179be(0xfb)](_0x511b20),_0x508ca0[_0x2179be(0x11e)]=_0x4a9224,await _0x508ca0[_0x2179be(0x10e)](_0x538dc4),_0x538dc4;}}async function writeExifWebp(_0x4f188a,_0x1188fb){const _0x32297d=_0x3d6ad8,_0x308cc7=path[_0x32297d(0x109)](_0x32297d(0x11b),Crypto[_0x32297d(0x11f)](0x6)[_0x32297d(0x120)](0x0,0x6)[_0x32297d(0x112)](0x24)+_0x32297d(0x118)),_0x46b309=path[_0x32297d(0x109)](_0x32297d(0x11b),Crypto['randomBytes'](0x6)[_0x32297d(0x120)](0x0,0x6)['toString'](0x24)+_0x32297d(0x118));fs['writeFileSync'](_0x308cc7,_0x4f188a);if(_0x1188fb[_0x32297d(0xfe)]||_0x1188fb[_0x32297d(0x110)]){const _0x2a26d7=new webp[(_0x32297d(0xfc))](),_0x49be7d={'sticker-pack-id':_0x32297d(0x104),'sticker-pack-name':_0x1188fb[_0x32297d(0xfe)],'sticker-pack-publisher':_0x1188fb[_0x32297d(0x110)],'emojis':_0x1188fb['categories']?_0x1188fb[_0x32297d(0x103)]:['']},_0x137445=await Buffer[_0x32297d(0x11d)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x288a64=await Buffer[_0x32297d(0x11d)](JSON[_0x32297d(0x129)](_0x49be7d),'utf-8'),_0x3eda16=await Buffer[_0x32297d(0xff)]([_0x137445,_0x288a64]);return await _0x3eda16[_0x32297d(0x128)](_0x288a64[_0x32297d(0x10a)],0xe,0x4),await _0x2a26d7[_0x32297d(0x10b)](_0x308cc7),fs[_0x32297d(0xfb)](_0x308cc7),_0x2a26d7[_0x32297d(0x11e)]=_0x3eda16,await _0x2a26d7[_0x32297d(0x10e)](_0x46b309),_0x46b309;}}module[_0x3d6ad8(0x119)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp};